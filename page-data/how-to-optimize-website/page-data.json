{"componentChunkName":"component---src-templates-post-jsx","path":"/how-to-optimize-website/","result":{"data":{"site":{"siteMetadata":{"title":"괜찮을지도"}},"markdownRemark":{"id":"4a76962f-5c50-5617-84e6-286b77281734","excerpt":"이 글은 우테코 괜찮을지도팀의 이 작성했습니다. 홈페이지에서 용량을 많이 차지하고 페이지 로딩 속도에 영향을 미치는 이미지와 번들 사이즈 최적화를 진행하였습니다. 이미지 최적화 홈페이지에서 가장 많은 용량을 차지하고 페이지 로딩 속도에 가장 큰 영향을 미치는 것은 이미지라는 의견이 나왔습니다. 백엔드 쪽에서는 이미지 업로드 용량 한계치를 두고 프론트 단에…","html":"<blockquote>\n<p>이 글은 우테코 괜찮을지도팀의 <code class=\"language-text\">패트릭</code>이 작성했습니다.</p>\n</blockquote>\n<p>홈페이지에서 용량을 많이 차지하고 페이지 로딩 속도에 영향을 미치는 이미지와 번들 사이즈 최적화를 진행하였습니다.</p>\n<h2>이미지 최적화</h2>\n<p>홈페이지에서 가장 많은 용량을 차지하고 페이지 로딩 속도에 가장 큰 영향을 미치는 것은 이미지라는 의견이 나왔습니다. 백엔드 쪽에서는 이미지 업로드 용량 한계치를 두고 프론트 단에서 용량을 줄이기로 하였습니다.</p>\n<h3>browser-image-compression 라이브러리 사용</h3>\n<p><figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/b9abf696ad9f3c8375d6cd4623544367/4a768/browser-compression.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 19.411764705882355%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA3klEQVR42jVQ7WqEMBD0/V/BX30FU5Ur9o+Uo3/sKxwqfqMxxpjoXZhmUxoYws7ODLsbVFWFvu8xDAO6rsM0TSjLEuM4em5ZFs81TeO5tm29vqpr8HlCu2iEnzWkfoJekGUZ4jhGmqZgEcNPUeDjdsM7YwjDEIWr8zxHFEVgjiNdkiQe3/cvPHqBt7yDOl9/gcdxgHCdF/R1YtU79stgN9rzQgg/pZQSnHMopTxP9bqu7t+c13iNtRYBGahhjIF2jUFyzLvAZhTsy2J2Qlqdwmjl/1A6A4G8Qmz+JBT4C4xBJXG8L9MZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Alt text' title='' src='/static/b9abf696ad9f3c8375d6cd4623544367/ca1dc/browser-compression.png' srcset='/static/b9abf696ad9f3c8375d6cd4623544367/e7570/browser-compression.png 170w,\n/static/b9abf696ad9f3c8375d6cd4623544367/f46e7/browser-compression.png 340w,\n/static/b9abf696ad9f3c8375d6cd4623544367/ca1dc/browser-compression.png 680w,\n/static/b9abf696ad9f3c8375d6cd4623544367/4a768/browser-compression.png 738w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Alt text</figcaption>\n  </figure></p>\n<p>그리고 하나의 이미지와 여러 개의 이미지를 압축하는 곳이 따로 있어 구분해서 적용하기 위해 custom hook으로 분리하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> imageCompression <span class=\"token keyword\">from</span> <span class=\"token string\">'browser-image-compression'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useCompressImage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compressImage</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>file<span class=\"token operator\">:</span> File<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> resizingBlob <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">imageCompression</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      maxSizeMB<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 최대 이미지 용량</span>\n      maxWidthOrHeight<span class=\"token operator\">:</span> <span class=\"token number\">750</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 최대 이미지 크기</span>\n      useWebWorker<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 비동기 처리 유무</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> resizingFile <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">File</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>resizingBlob<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> file<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      type<span class=\"token operator\">:</span> file<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> resizingFile<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compressImageList</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>files<span class=\"token operator\">:</span> FileList<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> compressedImageList<span class=\"token operator\">:</span> File<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> file <span class=\"token keyword\">of</span> files<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> compressedImage <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">compressImage</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      compressedImageList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>compressedImage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> compressedImageList<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span> compressImage<span class=\"token punctuation\">,</span> compressImageList <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> useCompressImage<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이를 통해 성능이 개선된 지표입니다.\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/87d8b8cffc0e2dc00a071b2320b0147c/544f7/optimize-compress.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 35.88235294117647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABMklEQVR42m2RbauCQBCF/f+/xi9aFGYpiCBRmUigpYUovQdpJpXncgaMe+EOLDsze3bm2VmlLEvcbjdwf71eeDwe4r/fbzyfT6zXa+z3e8Rx/F3UnE4nRFGENE0lx5im0HFdF4vFAkmSYDabwbZtbDYbNE0Dy7Lkoud56Pf7mEwmyLJMtKZpwnEcjEYj0UjBz+cjZDT6LEI67iSt61qIuNq2/WqY786o70w5HA5CNZ1OpdN8PpcGfOpgMIBhGNA0TXw+nfkgCKDrOnq9HlRVxW63k2JsKITswE6Xy0W60hh3s62qSuZJXUfIc+73+/0v4fl8RhiGMtjlconVaiWFr9crxuMxhsOhUB2PRxRFITNkLs/zL9VvU0jEp/ATfN+XS6Qh2Xa7leGTlCTUdh/C+L+CP2MEB6mVkpqxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Alt text' title='' src='/static/87d8b8cffc0e2dc00a071b2320b0147c/ca1dc/optimize-compress.png' srcset='/static/87d8b8cffc0e2dc00a071b2320b0147c/e7570/optimize-compress.png 170w,\n/static/87d8b8cffc0e2dc00a071b2320b0147c/f46e7/optimize-compress.png 340w,\n/static/87d8b8cffc0e2dc00a071b2320b0147c/ca1dc/optimize-compress.png 680w,\n/static/87d8b8cffc0e2dc00a071b2320b0147c/544f7/optimize-compress.png 684w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Alt text</figcaption>\n  </figure></p>\n<h2>번들 사이즈</h2>\n<p>이미지 다음으로 번들 사이즈가 페이지 로딩 속도에 영향을 끼친다는 것을 알았습니다. 동적 import(lazy, suspense 이용)와 tree shaking을 통해 개선할 수 있었습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> SelectedTopic <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/SelectedTopic'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> NewPin <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/NewPin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> NewTopic <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/NewTopic'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> SeeAllPopularTopics <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/SeeAllPopularTopics'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> SeeAllNearTopics <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/SeeAllNearTopics'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> SeeAllLatestTopics <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/SeeAllLatestTopics'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> KakaoRedirect <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/KakaoRedirect'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> Profile <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/Profile'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> AskLogin <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/AskLogin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> Bookmark <span class=\"token operator\">=</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">import</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./pages/Bookmark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">SuspenseComp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> children <span class=\"token punctuation\">}</span><span class=\"token operator\">:</span> SuspenseCompProps<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Suspense fallback<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Suspense<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'topics/:topicId'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>SelectedTopic <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'new-topic'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>NewTopic <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'new-pin'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>NewPin <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'see-all/popularity'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>SeeAllPopularTopics <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'see-all/near'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>SeeAllNearTopics <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'see-all/latest'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>SeeAllLatestTopics <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'favorite'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Bookmark <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'my-page'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Profile <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">{</span>\n  path<span class=\"token operator\">:</span> <span class=\"token string\">'/askLogin'</span><span class=\"token punctuation\">,</span>\n  element<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>SuspenseComp<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>AskLogin <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>SuspenseComp<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  withAuth<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<ul>\n<li>개선 전\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/fd8d5231661eed9ec1b3b8cdabd41d85/58c38/before.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 38.82352941176471%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB0UlEQVR42n2Q7U9SYRiH+Q8thqM3AnNpvgKGKwRna7NVH/pa683VahYqtbKyjWjmUgIJKjgdgVNaULAz5JDjZZ4DVweoPtTyfvbbnu3Zc+26fwalkKZerSDXZYTtD7yRQqxJrwlvhdgof0QsC3qSbNY3Wck/wZ+5TFXboTVN/fw9hmIpT0Nr8E6Jc/f7LXz5WR7k5/HnfNwWZrgRu8qd1AzPi0tcEc/gDXVT3i3uAdzZbr2w+O0xvREro5EhvJIbl+TAlXEyJto5KdnxfJ7gnDiCe30fiiq3PzcajT/RNK0D/PRFoqkD/RsLmJ+acCWdDCcGMa3ux6zbmNdMdK8aORg9wP3wTZYDD6nVKyhKmVKphCzLZLPZdlRVxVBRq23yvDCH0dfF4Eo/DmEEa+wIPfGj2GIWbG8tHMtYCVx/gTS0haqo7XVbVTV1m9+WbcOqVmtflgrPOBE9zvj7MTyp09iTw7hEB05hFEdiFHuin2tzr5i9UOCHstvp8N8KW8CO4WLhEX2JHsZFJwPxPozBLiyRQxyOmLGtWxhI9nJvOUhgIUe1ugew9svwpRzEK7q5lL7I+fQ0E6lTTKW9TKY9TGUmmZbOEs2HyeW+6stq/G9+AohlHK0lnoWUAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Alt text' title='' src='/static/fd8d5231661eed9ec1b3b8cdabd41d85/ca1dc/before.png' srcset='/static/fd8d5231661eed9ec1b3b8cdabd41d85/e7570/before.png 170w,\n/static/fd8d5231661eed9ec1b3b8cdabd41d85/f46e7/before.png 340w,\n/static/fd8d5231661eed9ec1b3b8cdabd41d85/ca1dc/before.png 680w,\n/static/fd8d5231661eed9ec1b3b8cdabd41d85/02d09/before.png 1020w,\n/static/fd8d5231661eed9ec1b3b8cdabd41d85/58c38/before.png 1260w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Alt text</figcaption>\n  </figure></li>\n<li>개선 후\n<figure class='gatsby-resp-image-figure' style='margin-bottom: 16px;'>\n    <span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; '>\n      <a class='gatsby-resp-image-link' href='/static/234b5b3f41dd5ce6efb8d64d758535cd/5745f/after.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 40.588235294117645%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAACBElEQVR42m3S30+SURzHcf48L7ppdeHKi26aXRW5tXK1NnNaelGYFmuSJGCWQ7GLLEOkNQwV04wfCciPB56HB5yiTwOBBx7enWWu1vqenYuzs/Pa+ZzvMe0VZbS9JLV6ja3UF0L5VXKNPJslD77kIO/CgyzG7rMij5Gd87M77ENxrGHUmvyqdpu/y6SoCodamUajiSfrZnhngHHZhjt+F0fwHM7QRexrncxEu1m/Y2O1Y4y42U2r0jjxjLYw/0xTRi1yUKlQ1VuMZiyc9Z+hK3ABT8HGkjRBUH3JbnyCyLaF9KaPmdcJvN4Uum7874KYviUzSEqaphhPpVEubXTRE77OUNjM1eUOrDEzO6ERIoE+ohvTjHiyOLxFqsc6Bwf7HB0dUSgUUBQFVVUxfRVgTskIrsVI6hGdgfNc2bzMZOoZk9tWFvIu/N9vEwwPUJwaImj/yKsnh9Sr4kSrSalUQpZlyuWyWLcEmEgLMCs4A7tko2f7Gg92+3govaA3OcFYcprI1DiR+ed82LrH6uInAsE4x+2qyAvaDw1N06jVaieR4zmZvX1VcAaOnJ0bERE33c/cho/p+RXee9eJWmeJuuZ5u2wlFvKTycdotvXfr/ZPl3WxUTfq6IbOlOykN3yT4Xw/b5yfWeiWWLJkeax4ce0ESd5KkFjOEJdyYJz+mpPunoI/AbfWJVgmBIeYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='Alt text' title='' src='/static/234b5b3f41dd5ce6efb8d64d758535cd/ca1dc/after.png' srcset='/static/234b5b3f41dd5ce6efb8d64d758535cd/e7570/after.png 170w,\n/static/234b5b3f41dd5ce6efb8d64d758535cd/f46e7/after.png 340w,\n/static/234b5b3f41dd5ce6efb8d64d758535cd/ca1dc/after.png 680w,\n/static/234b5b3f41dd5ce6efb8d64d758535cd/02d09/after.png 1020w,\n/static/234b5b3f41dd5ce6efb8d64d758535cd/5745f/after.png 1258w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span>\n    <figcaption class='gatsby-resp-image-figcaption'>Alt text</figcaption>\n  </figure></li>\n</ul>","frontmatter":{"title":"","date":"October 18, 2023","update":"October 18, 2023","tags":["블로그"],"series":null},"fields":{"slug":"/how-to-optimize-website/","readingTime":{"minutes":3.075}}},"seriesList":{"edges":[{"node":{"id":"9e6463d2-18de-5fdf-b4e6-8707709710e1","fields":{"slug":"/how-to-write-a-post/"},"frontmatter":{"title":"포스트 작성 방법"}}},{"node":{"id":"b802f2fe-d332-504c-be84-fd7aa170c622","fields":{"slug":"/github-actions-ci-cd/"},"frontmatter":{"title":"GitHub Actions로 CI/CD 구축하기"}}},{"node":{"id":"45b7dc00-ae71-58e4-9dc2-7aff92f0ca0d","fields":{"slug":"/trouble-shooting-actions-runner/"},"frontmatter":{"title":"EC2 환경 변수 적용 및 Actions Runner에 환경 변수 적용이 안되는 이슈"}}},{"node":{"id":"cb221d09-1977-59c9-9bc3-cd607a15d292","fields":{"slug":"/how-to-isolating-test/"},"frontmatter":{"title":"인수테스트에서 테스트 격리하기!"}}},{"node":{"id":"fa602b8b-64fa-59b0-b377-089612f91d9f","fields":{"slug":"/how-to-use-nginx/"},"frontmatter":{"title":"괜찮을지도의 Nginx 활용법"}}},{"node":{"id":"89dc33ed-1ad0-5d79-8148-b1a16f417a71","fields":{"slug":"/trouble-shooting-modifying-annotation/"},"frontmatter":{"title":"@Modifying 어노테이션의 옵션이 정상 동작하지 않는 문제"}}},{"node":{"id":"db91695e-5bf6-554c-bafd-e161d686fadf","fields":{"slug":"/trouble-shooting-fetch-type/"},"frontmatter":{"title":"FetchType.EAGER, FetchType.LAZY 에 대해서 알아보자!"}}},{"node":{"id":"2b3c31ce-d59e-50a0-92b2-7dc228aacf29","fields":{"slug":"/jpa-multibag-fetch-exception/"},"frontmatter":{"title":"Fetch join 사용 시 MultipleBagFetchException의 발생 이유와 해결 방법"}}},{"node":{"id":"253d110b-e241-549e-923a-f26782aab2dc","fields":{"slug":"/how-to-hikariCP/"},"frontmatter":{"title":"HikariCP 적용기"}}},{"node":{"id":"50f61fc3-c2e2-5599-b7e8-64879a64275d","fields":{"slug":"/trouble-shooting-jpa-delete-and-persistence/"},"frontmatter":{"title":"JPA 엔티티를 삭제할 때 영속성과 연관 관계가 중요한 이유"}}},{"node":{"id":"4a76962f-5c50-5617-84e6-286b77281734","fields":{"slug":"/how-to-optimize-website/"},"frontmatter":{"title":""}}},{"node":{"id":"17b8f808-e28d-5eb8-a407-fba6191a1ea7","fields":{"slug":"/how-to-store-image-s3/"},"frontmatter":{"title":"백엔드와 협력해 S3에 이미지 저장하기"}}}]},"previous":{"fields":{"slug":"/trouble-shooting-jpa-delete-and-persistence/"},"frontmatter":{"title":"JPA 엔티티를 삭제할 때 영속성과 연관 관계가 중요한 이유"}},"next":{"fields":{"slug":"/how-to-store-image-s3/"},"frontmatter":{"title":"백엔드와 협력해 S3에 이미지 저장하기"}}},"pageContext":{"id":"4a76962f-5c50-5617-84e6-286b77281734","series":null,"previousPostId":"50f61fc3-c2e2-5599-b7e8-64879a64275d","nextPostId":"17b8f808-e28d-5eb8-a407-fba6191a1ea7"}},"staticQueryHashes":[],"slicesMap":{}}